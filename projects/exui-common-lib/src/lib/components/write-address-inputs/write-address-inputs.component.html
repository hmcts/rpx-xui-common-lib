<ng-container>
  <form [formGroup]="formGroup">
    <div class="govuk-body" formGroupName="address">
      <label class="govuk-label govuk-!-font-weight-bold">
        Enter address details
      </label>

      <div class="govuk-body" [ngClass]="{'govuk-form-group--error': submissionAttempted && !formGroup.get('address').get('addressLine1').valid}">
        <label class="govuk-label" for="addressLine1">
          Building and Street
        </label>
        @if (submissionAttempted && !formGroup.get('address').get('addressLine1').valid) {
          <p class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span>{{MESSAGE_ENUM.NO_STREET_SELECTED}}
          </p>
        }
        <input class="govuk-input govuk-!-width-full" id="addressLine1" name="addressLine1" maxlength="150" type="text"
          formControlName="addressLine1">
      </div>

      <div class="govuk-body">
        <label class="govuk-label" for="addressLine2">
          Address line 2 (Optional)
        </label>
        <input class="govuk-input govuk-!-width-full" id="addressLine2" name="addressLine2" maxlength="150" type="text"
          formControlName="addressLine2">
      </div>

      <div class="govuk-body">
        <label class="govuk-label" for="addressLine3">
          Address line 3 (Optional)
        </label>
        <input class="govuk-input govuk-!-width-full" id="addressLine3" name="addressLine3" maxlength="50" type="text"
          formControlName="addressLine3">
      </div>

      <div class="govuk-body" [ngClass]="{'govuk-form-group--error': submissionAttempted && !formGroup.get('address').get('postTown').valid}">
        <label class="govuk-label" for="postTown">
          Town or City
        </label>
        @if (submissionAttempted && !formGroup.get('address').get('postTown').valid) {
          <p class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span>{{MESSAGE_ENUM.NO_CITY_SELECTED}}
          </p>
        }
        <input class="govuk-input govuk-!-width-two-thirds" id="postTown" name="postTown" type="text"
          formControlName="postTown">
      </div>

      <div class="govuk-body">
        <label class="govuk-label" for="county">
          County{{this.isInternational ? '/ State/ Province' : ''}} (Optional)
        </label>
        <input class="govuk-input govuk-!-width-two-thirds" id="county" name="county" type="text"
          formControlName="county" >
      </div>

      @if (isInternational) {
        <div class="govuk-body" [ngClass]="{'govuk-form-group--error': submissionAttempted && !formGroup.get('address').get('country').valid}">
          <label class="govuk-label" for="country">
            Country
          </label>
          @if (submissionAttempted && !formGroup.get('address').get('country').valid) {
            <p class="govuk-error-message">
              <span class="govuk-visually-hidden">Error:</span>{{MESSAGE_ENUM.NO_COUNTRY_SELECTED}}
            </p>
          }
          <input class="govuk-input govuk-!-width-two-thirds" id="country" name="country" type="text"
            formControlName="country">
        </div>
      }

      <div class="govuk-body" [ngClass]="{'govuk-form-group--error': submissionAttempted && !isInternational && !formGroup.get('address').get('postCode').valid}">
        <label class="govuk-label" for="postCode">
          Postcode{{this.isInternational ? ' (Optional)' : ''}}
        </label>
        @if (submissionAttempted && !isInternational && this.formGroup.get('address').get('postCode').hasError('required')) {
          <p class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span>{{MESSAGE_ENUM.NO_POSTCODE_SELECTED}}
          </p>
        }
        @if (submissionAttempted && !isInternational && this.formGroup.get('address').get('postCode').hasError('invalidPostcode')) {
          <p class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span>{{MESSAGE_ENUM.INVALID_POSTCODE}}
          </p>
        }
        <input class="govuk-input govuk-!-width-one-third" id="postCode" name="postCode" type="text"
          formControlName="postCode">
      </div>
    </div>
  </form>
</ng-container>