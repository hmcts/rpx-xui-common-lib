<div class="auto-complete-container">
  @if (readyAfterContent) {
    <div class="autocomplete__wrapper">
      <input
        [formControl]="findLocationFormGroup.controls.findLocationFormControl"
        [matAutocomplete]="autoSearchLocation"
        id="searchVenueLocation"
        (keydown)="onKeyDown()"
        (keyup)="onKeyUp($event)"
        class="autocomplete__input autocomplete__input--default search-box"
        [attr.disabled]="!disabled ? null: disabled"
        [value]="getControlCourtNameValue()"
        #inputSelectedLocation>
      <mat-autocomplete class="mat-autocomplete-panel-extend" autoActiveFirstOption #autoSearchLocation="matAutocomplete">
        @for (location of displayedLocationsDuplicationFiltered; track location) {
          <mat-option
            [value]="getDisplayName(location)"
            (onSelectionChange)="onSelectionChange(location)"
            [ngClass]="{'hide-autocomplete': showAutocomplete ? false : true}">
            {{ getDisplayName(location) }}
          </mat-option>
        }
        @if (!displayedLocationsDuplicationFiltered?.length && showAutocomplete && !searchInProgress) {
          <mat-option>{{ 'No results found' }}</mat-option>
        }
      </mat-autocomplete>
    </div>
  }
</div>
